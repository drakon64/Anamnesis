@page "/{ns}/modules/{name}/{system}/{version}"
@namespace Anamnesis.Dashboard.Pages
@model ModuleModel
<!DOCTYPE html>
<head>
    <title>@Model.Name/@Model.System - @Model.Version - Modules - @Model.Namespace - Anamnesis</title>
</head>
<p><a href="/">Home</a></p>
<h1>@Model.Name/@Model.System - @Model.Version - Modules - @Model.Namespace</h1>
<h2>@Model.Module.Summary</h2>

<div style="display: grid; grid-template-columns: calc(100%/3) calc(100%/3) calc(100%/3);">
    <div style="border: 1px solid">
        <h3>Readme</h3>
        @Html.Raw(Model.Readme)
    </div>

    <div style="border: 1px solid">
        <h3>Variables</h3>
        @foreach (var variable in Model.Module.Variables)
        {
            <table style="border: 1px solid">
                <tr style="border: 1px solid">
                    <th style="border: 1px solid">Name</th>
                    <td style="border: 1px solid">@variable.Value.Name</td>
                </tr>

                @if (variable.Value.Type != null)
                {
                    <tr style="border: 1px solid">
                        <th style="border: 1px solid">Type</th>
                        <td style="border: 1px solid">@variable.Value.Type</td>
                    </tr>
                }

                @if (variable.Value.Description != null)
                {
                    <tr style="border: 1px solid">
                        <th style="border: 1px solid">Description</th>
                        <td style="border: 1px solid">@variable.Value.Description</td>
                    </tr>
                }

                <tr style="border: 1px solid">
                    <th style="border: 1px solid">Required</th>
                    <td style="border: 1px solid">@variable.Value.Required</td>
                </tr>

                <tr style="border: 1px solid">
                    <th style="border: 1px solid">Sensitive</th>
                    <td style="border: 1px solid">@variable.Value.Sensitive</td>
                </tr>
            </table>
        }
    </div>

    <div style="border: 1px solid">
        <h3>Outputs</h3>
        @foreach (var output in Model.Module.Outputs)
        {
            <table style="border: 1px solid">
                <tr style="border: 1px solid">
                    <th style="border: 1px solid">Name</th>
                    <td style="border: 1px solid">@output.Value.Name</td>
                </tr>

                @if (output.Value.Description != null)
                {
                    <tr style="border: 1px solid">
                        <th style="border: 1px solid">Description</th>
                        <td style="border: 1px solid">@output.Value.Description</td>
                    </tr>
                }

                <tr style="border: 1px solid">
                    <th style="border: 1px solid">Sensitive</th>
                    <td style="border: 1px solid">@output.Value.Sensitive</td>
                </tr>
            </table>
        }
    </div>
</div>
